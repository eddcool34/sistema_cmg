<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Ventas - Paqueter√≠a</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { jsPDF } = window.jspdf;

        function App() {
            const [activeTab, setActiveTab] = useState('registro');
            const [ventas, setVentas] = useState([]);
            const [formData, setFormData] = useState({
                nombreRemitente: '',
                telefonoRemitente: '',
                nombreDestinatario: '',
                telefonoDestinatario: '',
                direccion: '',
                numero: '',
                codigoPostal: '',
                colonia: '',
                estado: '',
                pais: 'M√©xico',
                tipoServicio: 'nacional',
                devolucion: 'no',
                paqueteria: 'fedex',
                precio: '',
                costo: ''
            });

            // Cargar ventas del localStorage al iniciar
            useEffect(() => {
                const ventasGuardadas = localStorage.getItem('ventas');
                if (ventasGuardadas) {
                    setVentas(JSON.parse(ventasGuardadas));
                }
            }, []);

            // Guardar ventas en localStorage cuando cambien
            useEffect(() => {
                if (ventas.length > 0) {
                    localStorage.setItem('ventas', JSON.stringify(ventas));
                }
            }, [ventas]);

            const handleInputChange = (e) => {
                const { name, value } = e.target;
                setFormData(prev => ({
                    ...prev,
                    [name]: value
                }));
            };

            const generarPDF = (venta) => {
                const doc = new jsPDF();
                
                // T√≠tulo
                doc.setFontSize(20);
                doc.setFont(undefined, 'bold');
                doc.text('COMPROBANTE DE ENV√çO', 105, 20, { align: 'center' });
                
                // L√≠nea separadora
                doc.setDrawColor(0, 0, 0);
                doc.line(20, 25, 190, 25);

                // Informaci√≥n del remitente
                doc.setFontSize(14);
                doc.setFont(undefined, 'bold');
                doc.text('REMITENTE', 20, 35);
                
                doc.setFontSize(11);
                doc.setFont(undefined, 'normal');
                doc.text(`Nombre: ${venta.nombreRemitente}`, 20, 42);
                doc.text(`Tel√©fono: ${venta.telefonoRemitente}`, 20, 48);

                // Informaci√≥n del destinatario
                doc.setFontSize(14);
                doc.setFont(undefined, 'bold');
                doc.text('DESTINATARIO', 20, 60);
                
                doc.setFontSize(11);
                doc.setFont(undefined, 'normal');
                doc.text(`Nombre: ${venta.nombreDestinatario}`, 20, 67);
                doc.text(`Tel√©fono: ${venta.telefonoDestinatario}`, 20, 73);
                doc.text(`Direcci√≥n: ${venta.direccion} #${venta.numero}`, 20, 79);
                doc.text(`Colonia: ${venta.colonia}`, 20, 85);
                doc.text(`C.P.: ${venta.codigoPostal}`, 20, 91);
                doc.text(`Estado: ${venta.estado}`, 20, 97);
                doc.text(`Pa√≠s: ${venta.pais}`, 20, 103);

                // Detalles del servicio
                doc.setFontSize(14);
                doc.setFont(undefined, 'bold');
                doc.text('DETALLES DEL SERVICIO', 20, 115);
                
                doc.setFontSize(11);
                doc.setFont(undefined, 'normal');
                doc.text(`Paqueter√≠a: ${venta.paqueteria.toUpperCase()}`, 20, 122);
                doc.text(`Tipo de Servicio: ${venta.tipoServicio.toUpperCase()}`, 20, 128);
                doc.text(`Devoluci√≥n: ${venta.devolucion === 'si' ? 'S√ç' : 'NO'}`, 20, 134);

                // Informaci√≥n financiera
                doc.setFontSize(14);
                doc.setFont(undefined, 'bold');
                doc.text('INFORMACI√ìN FINANCIERA', 20, 146);
                
                doc.setFontSize(11);
                doc.setFont(undefined, 'normal');
                doc.text(`Precio: $${parseFloat(venta.precio).toFixed(2)}`, 20, 153);
                doc.text(`Costo: $${parseFloat(venta.costo).toFixed(2)}`, 20, 159);
                doc.text(`Ganancia: $${(parseFloat(venta.precio) - parseFloat(venta.costo)).toFixed(2)}`, 20, 165);

                // Fecha y folio
                doc.setFontSize(10);
                doc.text(`Folio: ${venta.id}`, 20, 280);
                doc.text(`Fecha: ${new Date(venta.fecha).toLocaleString('es-MX')}`, 120, 280);

                // Descargar PDF
                doc.save(`Envio-${venta.id}.pdf`);
            };

            const generarTicket = (venta) => {
                const doc = new jsPDF({
                    format: [80, 200]
                });

                doc.setFontSize(12);
                doc.setFont(undefined, 'bold');
                doc.text('TICKET DE PAGO', 40, 10, { align: 'center' });
                
                doc.setFontSize(8);
                doc.setFont(undefined, 'normal');
                doc.text('------------------------', 40, 15, { align: 'center' });
                
                doc.text(`Folio: ${venta.id}`, 5, 22);
                doc.text(`Fecha: ${new Date(venta.fecha).toLocaleDateString('es-MX')}`, 5, 27);
                doc.text(`Hora: ${new Date(venta.fecha).toLocaleTimeString('es-MX')}`, 5, 32);
                
                doc.text('------------------------', 40, 37, { align: 'center' });
                
                doc.setFont(undefined, 'bold');
                doc.text('CLIENTE', 5, 42);
                doc.setFont(undefined, 'normal');
                doc.text(`${venta.nombreRemitente}`, 5, 47);
                doc.text(`Tel: ${venta.telefonoRemitente}`, 5, 52);
                
                doc.text('------------------------', 40, 57, { align: 'center' });
                
                doc.setFont(undefined, 'bold');
                doc.text('SERVICIO', 5, 62);
                doc.setFont(undefined, 'normal');
                doc.text(`${venta.paqueteria.toUpperCase()}`, 5, 67);
                doc.text(`Tipo: ${venta.tipoServicio}`, 5, 72);
                doc.text(`Destino: ${venta.estado}`, 5, 77);
                
                doc.text('------------------------', 40, 82, { align: 'center' });
                
                doc.setFont(undefined, 'bold');
                doc.setFontSize(10);
                doc.text(`TOTAL: $${parseFloat(venta.precio).toFixed(2)}`, 5, 90);
                
                doc.setFontSize(8);
                doc.setFont(undefined, 'normal');
                doc.text('------------------------', 40, 95, { align: 'center' });
                doc.text('¬°Gracias por su compra!', 40, 100, { align: 'center' });

                doc.save(`Ticket-${venta.id}.pdf`);
            };

            const handleSubmit = (e, action) => {
                e.preventDefault();
                
                // Validar campos requeridos
                if (!formData.nombreRemitente || !formData.telefonoRemitente || 
                    !formData.nombreDestinatario || !formData.telefonoDestinatario ||
                    !formData.direccion || !formData.precio || !formData.costo) {
                    alert('Por favor complete todos los campos obligatorios');
                    return;
                }

                const nuevaVenta = {
                    ...formData,
                    id: `ENV-${Date.now()}`,
                    fecha: new Date().toISOString()
                };

                setVentas(prev => [...prev, nuevaVenta]);

                if (action === 'pdf') {
                    generarPDF(nuevaVenta);
                } else if (action === 'ticket') {
                    generarTicket(nuevaVenta);
                }

                // Limpiar formulario
                setFormData({
                    nombreRemitente: '',
                    telefonoRemitente: '',
                    nombreDestinatario: '',
                    telefonoDestinatario: '',
                    direccion: '',
                    numero: '',
                    codigoPostal: '',
                    colonia: '',
                    estado: '',
                    pais: 'M√©xico',
                    tipoServicio: 'nacional',
                    devolucion: 'no',
                    paqueteria: 'fedex',
                    precio: '',
                    costo: ''
                });

                alert('Venta registrada exitosamente');
            };

            // Estad√≠sticas
            const getVentasHoy = () => {
                const hoy = new Date().toLocaleDateString('es-MX');
                return ventas.filter(v => new Date(v.fecha).toLocaleDateString('es-MX') === hoy);
            };

            const getPaqueteriaMasVendida = () => {
                const conteo = ventas.reduce((acc, v) => {
                    acc[v.paqueteria] = (acc[v.paqueteria] || 0) + 1;
                    return acc;
                }, {});
                
                const max = Object.entries(conteo).sort((a, b) => b[1] - a[1])[0];
                return max ? { nombre: max[0], cantidad: max[1] } : { nombre: 'N/A', cantidad: 0 };
            };

            const getServicioMasVendido = () => {
                const conteo = ventas.reduce((acc, v) => {
                    acc[v.tipoServicio] = (acc[v.tipoServicio] || 0) + 1;
                    return acc;
                }, {});
                
                const max = Object.entries(conteo).sort((a, b) => b[1] - a[1])[0];
                return max ? { nombre: max[0], cantidad: max[1] } : { nombre: 'N/A', cantidad: 0 };
            };

            const getTotalVentasHoy = () => {
                return getVentasHoy().reduce((sum, v) => sum + parseFloat(v.precio), 0);
            };

            const getGananciasHoy = () => {
                return getVentasHoy().reduce((sum, v) => 
                    sum + (parseFloat(v.precio) - parseFloat(v.costo)), 0);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
                    <div className="container mx-auto px-4 py-8">
                        {/* Header */}
                        <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <h1 className="text-3xl font-bold text-gray-800 text-center">
                                üì¶ Sistema de Ventas - Paqueter√≠a
                            </h1>
                        </div>

                        {/* Tabs */}
                        <div className="bg-white rounded-lg shadow-lg mb-6">
                            <div className="flex border-b">
                                <button
                                    onClick={() => setActiveTab('registro')}
                                    className={`flex-1 py-4 px-6 text-center font-semibold transition-colors ${
                                        activeTab === 'registro'
                                            ? 'bg-blue-500 text-white'
                                            : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                    }`}
                                >
                                    üìù Registrar Venta
                                </button>
                                <button
                                    onClick={() => setActiveTab('estadisticas')}
                                    className={`flex-1 py-4 px-6 text-center font-semibold transition-colors ${
                                        activeTab === 'estadisticas'
                                            ? 'bg-blue-500 text-white'
                                            : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                    }`}
                                >
                                    üìä Estad√≠sticas
                                </button>
                                <button
                                    onClick={() => setActiveTab('historial')}
                                    className={`flex-1 py-4 px-6 text-center font-semibold transition-colors ${
                                        activeTab === 'historial'
                                            ? 'bg-blue-500 text-white'
                                            : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
                                    }`}
                                >
                                    üìã Historial
                                </button>
                            </div>
                        </div>

                        {/* Contenido de las tabs */}
                        {activeTab === 'registro' && (
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <h2 className="text-2xl font-bold text-gray-800 mb-6">Registrar Nueva Venta</h2>
                                <form>
                                    {/* Secci√≥n Remitente */}
                                    <div className="mb-6">
                                        <h3 className="text-xl font-semibold text-blue-600 mb-4">üì§ Datos del Remitente</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Nombre *
                                                </label>
                                                <input
                                                    type="text"
                                                    name="nombreRemitente"
                                                    value={formData.nombreRemitente}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Tel√©fono *
                                                </label>
                                                <input
                                                    type="tel"
                                                    name="telefonoRemitente"
                                                    value={formData.telefonoRemitente}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                        </div>
                                    </div>

                                    {/* Secci√≥n Destinatario */}
                                    <div className="mb-6">
                                        <h3 className="text-xl font-semibold text-green-600 mb-4">üì• Datos del Destinatario</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Nombre *
                                                </label>
                                                <input
                                                    type="text"
                                                    name="nombreDestinatario"
                                                    value={formData.nombreDestinatario}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Tel√©fono *
                                                </label>
                                                <input
                                                    type="tel"
                                                    name="telefonoDestinatario"
                                                    value={formData.telefonoDestinatario}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Direcci√≥n *
                                                </label>
                                                <input
                                                    type="text"
                                                    name="direccion"
                                                    value={formData.direccion}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    N√∫mero
                                                </label>
                                                <input
                                                    type="text"
                                                    name="numero"
                                                    value={formData.numero}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    C√≥digo Postal
                                                </label>
                                                <input
                                                    type="text"
                                                    name="codigoPostal"
                                                    value={formData.codigoPostal}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Colonia
                                                </label>
                                                <input
                                                    type="text"
                                                    name="colonia"
                                                    value={formData.colonia}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Estado
                                                </label>
                                                <input
                                                    type="text"
                                                    name="estado"
                                                    value={formData.estado}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Pa√≠s
                                                </label>
                                                <input
                                                    type="text"
                                                    name="pais"
                                                    value={formData.pais}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                />
                                            </div>
                                        </div>
                                    </div>

                                    {/* Secci√≥n Servicio */}
                                    <div className="mb-6">
                                        <h3 className="text-xl font-semibold text-purple-600 mb-4">üöö Detalles del Servicio</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Tipo de Servicio *
                                                </label>
                                                <select
                                                    name="tipoServicio"
                                                    value={formData.tipoServicio}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                >
                                                    <option value="nacional">Nacional</option>
                                                    <option value="internacional">Internacional</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Devoluci√≥n
                                                </label>
                                                <select
                                                    name="devolucion"
                                                    value={formData.devolucion}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                >
                                                    <option value="no">No</option>
                                                    <option value="si">S√≠</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Paqueter√≠a *
                                                </label>
                                                <select
                                                    name="paqueteria"
                                                    value={formData.paqueteria}
                                                    onChange={handleInputChange}
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                >
                                                    <option value="fedex">FedEx</option>
                                                    <option value="estafeta">Estafeta</option>
                                                    <option value="dhl">DHL</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    {/* Secci√≥n Financiera */}
                                    <div className="mb-6">
                                        <h3 className="text-xl font-semibold text-orange-600 mb-4">üí∞ Informaci√≥n Financiera</h3>
                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Precio (venta al cliente) *
                                                </label>
                                                <input
                                                    type="number"
                                                    name="precio"
                                                    value={formData.precio}
                                                    onChange={handleInputChange}
                                                    step="0.01"
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                            <div>
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    Costo (tu costo) *
                                                </label>
                                                <input
                                                    type="number"
                                                    name="costo"
                                                    value={formData.costo}
                                                    onChange={handleInputChange}
                                                    step="0.01"
                                                    className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                                    required
                                                />
                                            </div>
                                        </div>
                                        {formData.precio && formData.costo && (
                                            <div className="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg">
                                                <p className="text-lg font-semibold text-green-700">
                                                    Ganancia: ${(parseFloat(formData.precio) - parseFloat(formData.costo)).toFixed(2)}
                                                </p>
                                            </div>
                                        )}
                                    </div>

                                    {/* Botones de acci√≥n */}
                                    <div className="flex flex-col md:flex-row gap-4">
                                        <button
                                            type="button"
                                            onClick={(e) => handleSubmit(e, 'pdf')}
                                            className="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-4 px-6 rounded-lg transition-colors shadow-lg"
                                        >
                                            üìÑ Generar PDF
                                        </button>
                                        <button
                                            type="button"
                                            onClick={(e) => handleSubmit(e, 'ticket')}
                                            className="flex-1 bg-green-600 hover:bg-green-700 text-white font-bold py-4 px-6 rounded-lg transition-colors shadow-lg"
                                        >
                                            üé´ Pagar y Generar Ticket
                                        </button>
                                    </div>
                                </form>
                            </div>
                        )}

                        {activeTab === 'estadisticas' && (
                            <div>
                                <h2 className="text-2xl font-bold text-gray-800 mb-6">Estad√≠sticas de Ventas</h2>
                                
                                {/* Tarjetas de estad√≠sticas */}
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                                    <div className="bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg shadow-lg p-6 text-white">
                                        <h3 className="text-lg font-semibold mb-2">Ventas Hoy</h3>
                                        <p className="text-4xl font-bold">{getVentasHoy().length}</p>
                                    </div>
                                    
                                    <div className="bg-gradient-to-br from-green-500 to-green-600 rounded-lg shadow-lg p-6 text-white">
                                        <h3 className="text-lg font-semibold mb-2">Total Ventas Hoy</h3>
                                        <p className="text-3xl font-bold">${getTotalVentasHoy().toFixed(2)}</p>
                                    </div>
                                    
                                    <div className="bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg shadow-lg p-6 text-white">
                                        <h3 className="text-lg font-semibold mb-2">Ganancias Hoy</h3>
                                        <p className="text-3xl font-bold">${getGananciasHoy().toFixed(2)}</p>
                                    </div>
                                    
                                    <div className="bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg shadow-lg p-6 text-white">
                                        <h3 className="text-lg font-semibold mb-2">Total Ventas</h3>
                                        <p className="text-4xl font-bold">{ventas.length}</p>
                                    </div>
                                </div>

                                {/* Paqueter√≠a y Servicios m√°s vendidos */}
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div className="bg-white rounded-lg shadow-lg p-6">
                                        <h3 className="text-xl font-bold text-gray-800 mb-4">üöö Paqueter√≠a M√°s Vendida</h3>
                                        <div className="flex items-center justify-between p-4 bg-blue-50 rounded-lg">
                                            <span className="text-2xl font-bold text-blue-600 uppercase">
                                                {getPaqueteriaMasVendida().nombre}
                                            </span>
                                            <span className="text-3xl font-bold text-gray-800">
                                                {getPaqueteriaMasVendida().cantidad}
                                            </span>
                                        </div>
                                        
                                        <div className="mt-4 space-y-2">
                                            {['fedex', 'estafeta', 'dhl'].map(paq => {
                                                const count = ventas.filter(v => v.paqueteria === paq).length;
                                                return (
                                                    <div key={paq} className="flex justify-between items-center p-2 bg-gray-50 rounded">
                                                        <span className="font-medium uppercase">{paq}</span>
                                                        <span className="font-bold">{count}</span>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>

                                    <div className="bg-white rounded-lg shadow-lg p-6">
                                        <h3 className="text-xl font-bold text-gray-800 mb-4">üì¶ Servicio M√°s Vendido</h3>
                                        <div className="flex items-center justify-between p-4 bg-green-50 rounded-lg">
                                            <span className="text-2xl font-bold text-green-600 uppercase">
                                                {getServicioMasVendido().nombre}
                                            </span>
                                            <span className="text-3xl font-bold text-gray-800">
                                                {getServicioMasVendido().cantidad}
                                            </span>
                                        </div>
                                        
                                        <div className="mt-4 space-y-2">
                                            {['nacional', 'internacional'].map(serv => {
                                                const count = ventas.filter(v => v.tipoServicio === serv).length;
                                                return (
                                                    <div key={serv} className="flex justify-between items-center p-2 bg-gray-50 rounded">
                                                        <span className="font-medium uppercase">{serv}</span>
                                                        <span className="font-bold">{count}</span>
                                                    </div>
                                                );
                                            })}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {activeTab === 'historial' && (
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <h2 className="text-2xl font-bold text-gray-800 mb-6">Historial de Ventas</h2>
                                
                                {ventas.length === 0 ? (
                                    <div className="text-center py-12">
                                        <p className="text-gray-500 text-lg">No hay ventas registradas</p>
                                    </div>
                                ) : (
                                    <div className="overflow-x-auto">
                                        <table className="w-full">
                                            <thead className="bg-gray-100">
                                                <tr>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Folio</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Fecha</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Remitente</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Destinatario</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Paqueter√≠a</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Servicio</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Precio</th>
                                                    <th className="px-4 py-3 text-left text-sm font-semibold text-gray-700">Acciones</th>
                                                </tr>
                                            </thead>
                                            <tbody className="divide-y divide-gray-200">
                                                {ventas.slice().reverse().map((venta) => (
                                                    <tr key={venta.id} className="hover:bg-gray-50">
                                                        <td className="px-4 py-3 text-sm font-medium text-gray-900">{venta.id}</td>
                                                        <td className="px-4 py-3 text-sm text-gray-600">
                                                            {new Date(venta.fecha).toLocaleDateString('es-MX')}
                                                        </td>
                                                        <td className="px-4 py-3 text-sm text-gray-600">{venta.nombreRemitente}</td>
                                                        <td className="px-4 py-3 text-sm text-gray-600">{venta.nombreDestinatario}</td>
                                                        <td className="px-4 py-3 text-sm text-gray-600 uppercase">{venta.paqueteria}</td>
                                                        <td className="px-4 py-3 text-sm text-gray-600 uppercase">{venta.tipoServicio}</td>
                                                        <td className="px-4 py-3 text-sm font-semibold text-green-600">${parseFloat(venta.precio).toFixed(2)}</td>
                                                        <td className="px-4 py-3 text-sm">
                                                            <div className="flex gap-2">
                                                                <button
                                                                    onClick={() => generarPDF(venta)}
                                                                    className="bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-xs"
                                                                >
                                                                    PDF
                                                                </button>
                                                                <button
                                                                    onClick={() => generarTicket(venta)}
                                                                    className="bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-xs"
                                                                >
                                                                    Ticket
                                                                </button>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                ))}
                                            </tbody>
                                        </table>
                                    </div>
                                )}
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
